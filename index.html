<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>The Books I've Read</title>
    <link rel="stylesheet" type="text/css" href="css/style.css">
  </head>
  <body>
    <section class="introduction">
      <h1>My Library</h1>

      <p>Welcome to my library. I try to read a lot, but like many people who try to read a lot, I don't have room to keep everything, so I created this virtual library.</p>

      <p>When I finish a book, I add the cover to this list so that even when I get rid of the physical copy, I can still look back and remember it.</p>

      <h2>Technical Notes</h2>

      <ul>
        <li>The HTML is generated from a template and the folder full of book covers. I used the <a href="https://github.com/sdsykes/fastimage">fastimage</a> gem to get the cover dimensions so that the grid can be pre-sized for minimal jumping about.</li>
        <li>I tried to keep the images small, but I used <a href="https://css-tricks.com/the-complete-guide-to-lazy-loading-images/">lazy loading</a> to ensure that images are only loaded when they come into the view port.
        <li>Warning for people on limited connections: If you scroll all the way to the bottom, you'll transfer approximately 3.63MB.</li>
      </ul>

      <p>Scroll down to browse.</p>

      <p class="down-arrow">
        <svg width="198" height="198" viewBox="0 0 198 198" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect x="28.2843" y="70.7107" width="140" height="40" transform="rotate(45 28.2843 70.7107)" fill="#D1442F"/>
        <rect x="197.99" y="98.9949" width="140" height="40" transform="rotate(135 197.99 98.9949)" fill="#D1442F"/>
        </svg>
      </p>
    </section>

    <div class="container">
      <img class="lazy" style="width: 300px; height: 450px;" data-src="covers/1984.jpg" alt="">
<img class="lazy" style="width: 300px; height: 460px;" data-src="covers/1Q84.jpg" alt="">
<img class="lazy" style="width: 300px; height: 388px;" data-src="covers/99-bottles-of-oop.jpg" alt="">
<img class="lazy" style="width: 300px; height: 480px;" data-src="covers/a-clockwork-orange.jpg" alt="">
<img class="lazy" style="width: 300px; height: 488px;" data-src="covers/a-darkness-at-sethanon.jpg" alt="">
<img class="lazy" style="width: 300px; height: 484px;" data-src="covers/a-farewell-to-arms.jpg" alt="">
<img class="lazy" style="width: 300px; height: 460px;" data-src="covers/a-game-of-thrones.jpg" alt="">
<img class="lazy" style="width: 300px; height: 454px;" data-src="covers/a-life-in-parts.jpg" alt="">
<img class="lazy" style="width: 300px; height: 460px;" data-src="covers/a-scanner-darkly.jpg" alt="">
<img class="lazy" style="width: 300px; height: 475px;" data-src="covers/anarchism-a-very-short-introduction.jpg" alt="">
<img class="lazy" style="width: 300px; height: 459px;" data-src="covers/angry-white-pyjamas.jpg" alt="">
<img class="lazy" style="width: 300px; height: 464px;" data-src="covers/animation-at-work.jpg" alt="">
<img class="lazy" style="width: 300px; height: 460px;" data-src="covers/battle-royale.jpg" alt="">
<img class="lazy" style="width: 300px; height: 400px;" data-src="covers/beneath-the-surface.jpg" alt="">
<img class="lazy" style="width: 300px; height: 447px;" data-src="covers/black-house.jpg" alt="">
<img class="lazy" style="width: 300px; height: 455px;" data-src="covers/blood-meridian.jpg" alt="">
<img class="lazy" style="width: 300px; height: 471px;" data-src="covers/burmese-days.jpg" alt="">
<img class="lazy" style="width: 300px; height: 449px;" data-src="covers/candide.jpg" alt="">
<img class="lazy" style="width: 300px; height: 462px;" data-src="covers/cell.jpg" alt="">
<img class="lazy" style="width: 300px; height: 389px;" data-src="covers/confident-ruby.jpg" alt="">
<img class="lazy" style="width: 300px; height: 451px;" data-src="covers/conspiracy.jpg" alt="">
<img class="lazy" style="width: 300px; height: 457px;" data-src="covers/crash.jpg" alt="">
<img class="lazy" style="width: 300px; height: 480px;" data-src="covers/dark-currents.jpg" alt="">
<img class="lazy" style="width: 300px; height: 481px;" data-src="covers/daughter-of-the-empire.jpg" alt="">
<img class="lazy" style="width: 300px; height: 458px;" data-src="covers/days-of-war-nights-of-love.jpg" alt="">
<img class="lazy" style="width: 300px; height: 450px;" data-src="covers/desperation.jpg" alt="">
<img class="lazy" style="width: 300px; height: 472px;" data-src="covers/devotion-of-suspect-x.jpg" alt="">
<img class="lazy" style="width: 300px; height: 386px;" data-src="covers/dont-make-me-think-revisted.jpg" alt="">
<img class="lazy" style="width: 300px; height: 424px;" data-src="covers/down-and-out-in-paris-and-london.jpg" alt="">
<img class="lazy" style="width: 300px; height: 393px;" data-src="covers/evasion.jpg" alt="">
<img class="lazy" style="width: 300px; height: 388px;" data-src="covers/exceptional-ruby.jpg" alt="">
<img class="lazy" style="width: 300px; height: 444px;" data-src="covers/faerie-tale.jpg" alt="">
<img class="lazy" style="width: 300px; height: 456px;" data-src="covers/farenheit-451.jpg" alt="">
<img class="lazy" style="width: 300px; height: 476px;" data-src="covers/feminism-a-very-short-introduction.jpg" alt="">
<img class="lazy" style="width: 300px; height: 445px;" data-src="covers/fighting-for-our-lives.jpg" alt="">
<img class="lazy" style="width: 300px; height: 481px;" data-src="covers/forged-in-blood-1.jpg" alt="">
<img class="lazy" style="width: 300px; height: 481px;" data-src="covers/forged-in-blood-2.jpg" alt="">
<img class="lazy" style="width: 300px; height: 401px;" data-src="covers/from-hell.jpg" alt="">
<img class="lazy" style="width: 300px; height: 481px;" data-src="covers/getting-off.jpg" alt="">
<img class="lazy" style="width: 300px; height: 454px;" data-src="covers/good-omens.jpg" alt="">
<img class="lazy" style="width: 300px; height: 459px;" data-src="covers/granny-made-me-an-anarchist.jpg" alt="">
<img class="lazy" style="width: 300px; height: 461px;" data-src="covers/grotesque.jpg" alt="">
<img class="lazy" style="width: 300px; height: 460px;" data-src="covers/hag-seed.jpg" alt="">
<img class="lazy" style="width: 300px; height: 440px;" data-src="covers/heart-of-darkness.jpg" alt="">
<img class="lazy" style="width: 300px; height: 461px;" data-src="covers/homage-to-catalonia.jpg" alt="">
<img class="lazy" style="width: 300px; height: 395px;" data-src="covers/house-of-leaves.jpg" alt="">
<img class="lazy" style="width: 300px; height: 450px;" data-src="covers/how-to-live-on-24-hours-a-day.jpg" alt="">
<img class="lazy" style="width: 300px; height: 480px;" data-src="covers/insomnia.jpg" alt="">
<img class="lazy" style="width: 300px; height: 452px;" data-src="covers/it-doesnt-have-to-be-crazy-at-work.jpg" alt="">
<img class="lazy" style="width: 300px; height: 454px;" data-src="covers/jamrachs-menagerie.jpg" alt="">
<img class="lazy" style="width: 300px; height: 523px;" data-src="covers/letters-from-a-stoic.jpg" alt="">
<img class="lazy" style="width: 300px; height: 455px;" data-src="covers/life-of-pi.jpg" alt="">
<img class="lazy" style="width: 300px; height: 484px;" data-src="covers/lockpick-pornography.jpg" alt="">
<img class="lazy" style="width: 300px; height: 451px;" data-src="covers/lotr-1.jpg" alt="">
<img class="lazy" style="width: 300px; height: 489px;" data-src="covers/lotr-2.jpg" alt="">
<img class="lazy" style="width: 300px; height: 455px;" data-src="covers/lotr-3.jpg" alt="">
<img class="lazy" style="width: 300px; height: 459px;" data-src="covers/maddaddam.jpg" alt="">
<img class="lazy" style="width: 300px; height: 483px;" data-src="covers/magician.jpg" alt="">
<img class="lazy" style="width: 300px; height: 471px;" data-src="covers/malice.jpg" alt="">
<img class="lazy" style="width: 300px; height: 466px;" data-src="covers/meditations.jpg" alt="">
<img class="lazy" style="width: 300px; height: 450px;" data-src="covers/mistress-of-the-empire.jpg" alt="">
<img class="lazy" style="width: 300px; height: 458px;" data-src="covers/moab-is-my-washpot.jpg" alt="">
<img class="lazy" style="width: 300px; height: 458px;" data-src="covers/neuromancer.jpg" alt="">
<img class="lazy" style="width: 300px; height: 449px;" data-src="covers/nimona.jpg" alt="">
<img class="lazy" style="width: 300px; height: 473px;" data-src="covers/oryx-and-crake.jpg" alt="">
<img class="lazy" style="width: 300px; height: 459px;" data-src="covers/out.jpg" alt="">
<img class="lazy" style="width: 300px; height: 450px;" data-src="covers/paper-towns.jpg" alt="">
<img class="lazy" style="width: 300px; height: 461px;" data-src="covers/parade.jpg" alt="">
<img class="lazy" style="width: 300px; height: 468px;" data-src="covers/pattern-recognition.jpg" alt="">
<img class="lazy" style="width: 300px; height: 392px;" data-src="covers/practical-object-oriented-design-in-ruby.jpg" alt="">
<img class="lazy" style="width: 300px; height: 428px;" data-src="covers/real-world.jpg" alt="">
<img class="lazy" style="width: 300px; height: 462px;" data-src="covers/recipes-for-disaster.jpg" alt="">
<img class="lazy" style="width: 300px; height: 492px;" data-src="covers/red-seas-under-red-skies.jpg" alt="">
<img class="lazy" style="width: 300px; height: 422px;" data-src="covers/refactoring-ui.jpg" alt="">
<img class="lazy" style="width: 300px; height: 508px;" data-src="covers/rose-madder.jpg" alt="">
<img class="lazy" style="width: 300px; height: 463px;" data-src="covers/salvation-of-a-saint.jpg" alt="">
<img class="lazy" style="width: 300px; height: 474px;" data-src="covers/servant-of-the-empire.jpg" alt="">
<img class="lazy" style="width: 300px; height: 400px;" data-src="covers/shogun.jpg" alt="">
<img class="lazy" style="width: 300px; height: 489px;" data-src="covers/silverthorn.jpg" alt="">
<img class="lazy" style="width: 300px; height: 469px;" data-src="covers/six-four.jpg" alt="">
<img class="lazy" style="width: 300px; height: 376px;" data-src="covers/soft-skills.jpg" alt="">
<img class="lazy" style="width: 300px; height: 459px;" data-src="covers/something-wicked-this-way-comes.jpg" alt="">
<img class="lazy" style="width: 300px; height: 446px;" data-src="covers/south-of-the-border-west-of-the-sun.jpg" alt="">
<img class="lazy" style="width: 300px; height: 451px;" data-src="covers/spam-nation.jpg" alt="">
<img class="lazy" style="width: 300px; height: 494px;" data-src="covers/steal-this-book.jpg" alt="">
<img class="lazy" style="width: 300px; height: 460px;" data-src="covers/tao-te-ching.jpg" alt="">
<img class="lazy" style="width: 300px; height: 478px;" data-src="covers/the-art-of-peace.jpg" alt="">
<img class="lazy" style="width: 300px; height: 461px;" data-src="covers/the-art-of-war.jpg" alt="">
<img class="lazy" style="width: 300px; height: 479px;" data-src="covers/the-autobiography-of-benjamin-franklin.jpg" alt="">
<img class="lazy" style="width: 300px; height: 493px;" data-src="covers/the-call-of-the-wild.jpg" alt="">
<img class="lazy" style="width: 300px; height: 441px;" data-src="covers/the-catcher-in-the-rye.jpg" alt="">
<img class="lazy" style="width: 300px; height: 450px;" data-src="covers/the-checklist-manifesto.jpg" alt="">
<img class="lazy" style="width: 300px; height: 461px;" data-src="covers/the-dark-tower-1-gunslinger.jpg" alt="">
<img class="lazy" style="width: 300px; height: 545px;" data-src="covers/the-dark-tower-3.jpg" alt="">
<img class="lazy" style="width: 300px; height: 461px;" data-src="covers/the-dark-tower-4.jpg" alt="">
<img class="lazy" style="width: 300px; height: 460px;" data-src="covers/the-dark-tower-5.jpg" alt="">
<img class="lazy" style="width: 300px; height: 461px;" data-src="covers/the-dark-tower-6-song-of-susannah.jpg" alt="">
<img class="lazy" style="width: 300px; height: 459px;" data-src="covers/the-dark-tower-7-dark-tower.jpg" alt="">
<img class="lazy" style="width: 300px; height: 481px;" data-src="covers/the-emperors-edge.jpg" alt="">
<img class="lazy" style="width: 300px; height: 455px;" data-src="covers/the-heart-goes-last.jpg" alt="">
<img class="lazy" style="width: 300px; height: 465px;" data-src="covers/the-hobbit.jpg" alt="">
<img class="lazy" style="width: 300px; height: 461px;" data-src="covers/the-kite-runner.jpg" alt="">
<img class="lazy" style="width: 300px; height: 459px;" data-src="covers/the-lies-of-locke-lamora.jpg" alt="">
<img class="lazy" style="width: 300px; height: 462px;" data-src="covers/the-myth-of-sisyphus.jpg" alt="">
<img class="lazy" style="width: 300px; height: 464px;" data-src="covers/the-new-css-layout.png" alt="">
<img class="lazy" style="width: 300px; height: 458px;" data-src="covers/the-night-circus.jpg" alt="">
<img class="lazy" style="width: 300px; height: 458px;" data-src="covers/the-obstacle-is-the-way.jpg" alt="">
<img class="lazy" style="width: 300px; height: 454px;" data-src="covers/the-piano-tuner.jpg" alt="">
<img class="lazy" style="width: 300px; height: 400px;" data-src="covers/the-power-of-habit.jpg" alt="">
<img class="lazy" style="width: 300px; height: 465px;" data-src="covers/the-psychopath-code.jpg" alt="">
<img class="lazy" style="width: 300px; height: 451px;" data-src="covers/the-regulators.jpg" alt="">
<img class="lazy" style="width: 300px; height: 462px;" data-src="covers/the-republic-of-thieves.jpg" alt="">
<img class="lazy" style="width: 300px; height: 459px;" data-src="covers/the-road-to-wigan-pier.jpg" alt="">
<img class="lazy" style="width: 300px; height: 435px;" data-src="covers/the-road.jpg" alt="">
<img class="lazy" style="width: 300px; height: 484px;" data-src="covers/the-sea-wolf.jpg" alt="">
<img class="lazy" style="width: 300px; height: 460px;" data-src="covers/the-sisters-brothers.jpg" alt="">
<img class="lazy" style="width: 300px; height: 483px;" data-src="covers/the-stranger.jpg" alt="">
<img class="lazy" style="width: 300px; height: 452px;" data-src="covers/the-talisman.jpg" alt="">
<img class="lazy" style="width: 300px; height: 452px;" data-src="covers/the-time-travelers-guide-to-medieval-england.jpg" alt="">
<img class="lazy" style="width: 300px; height: 490px;" data-src="covers/the-tommyknockers.jpg" alt="">
<img class="lazy" style="width: 300px; height: 478px;" data-src="covers/the-war-of-art.jpg" alt="">
<img class="lazy" style="width: 300px; height: 473px;" data-src="covers/the-year-of-the-flood.jpg" alt="">
<img class="lazy" style="width: 300px; height: 400px;" data-src="covers/tokyo-vice.jpg" alt="">
<img class="lazy" style="width: 300px; height: 446px;" data-src="covers/tomorrow-when-the-war-began.jpg" alt="">
<img class="lazy" style="width: 300px; height: 400px;" data-src="covers/torture-garden.jpg" alt="">
<img class="lazy" style="width: 300px; height: 464px;" data-src="covers/v-for-vendetta.jpg" alt="">
<img class="lazy" style="width: 300px; height: 452px;" data-src="covers/wicked.jpg" alt="">
<img class="lazy" style="width: 300px; height: 453px;" data-src="covers/zen-and-the-art-of-motorcycle-maintenance.jpg" alt="">
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function() {
        var lazyloadImages;    

        if ("IntersectionObserver" in window) {
          lazyloadImages = document.querySelectorAll(".lazy");
          var imageObserver = new IntersectionObserver(function(entries, observer) {
            entries.forEach(function(entry) {
              if (entry.isIntersecting) {
                var image = entry.target;
                image.src = image.dataset.src;
                image.classList.remove("lazy");
                imageObserver.unobserve(image);
              }
            });
          });

          lazyloadImages.forEach(function(image) {
            imageObserver.observe(image);
          });
        } else {  
          var lazyloadThrottleTimeout;
          lazyloadImages = document.querySelectorAll(".lazy");
          
          function lazyload () {
            if(lazyloadThrottleTimeout) {
              clearTimeout(lazyloadThrottleTimeout);
            }    

            lazyloadThrottleTimeout = setTimeout(function() {
              var scrollTop = window.pageYOffset;
              lazyloadImages.forEach(function(img) {
                  if(img.offsetTop < (window.innerHeight + scrollTop)) {
                    img.src = img.dataset.src;
                    img.classList.remove('lazy');
                  }
              });
              if(lazyloadImages.length == 0) { 
                document.removeEventListener("scroll", lazyload);
                window.removeEventListener("resize", lazyload);
                window.removeEventListener("orientationChange", lazyload);
              }
            }, 20);
          }

          document.addEventListener("scroll", lazyload);
          window.addEventListener("resize", lazyload);
          window.addEventListener("orientationChange", lazyload);
        }
      })
    </script>
  </body>
</html>